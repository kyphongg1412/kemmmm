<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Love Quiz Game ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  font-family:Arial,sans-serif;
}
.box{
  background:#fff;
  padding:22px;
  border-radius:20px;
  width:380px;
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}
h1{color:#ff4d6d;margin-bottom:10px}
input,select{
  width:100%;
  padding:10px;
  margin-top:8px;
  border-radius:10px;
  border:1px solid #ccc;
}
button{
  margin-top:12px;
  padding:10px 22px;
  border:none;
  border-radius:20px;
  background:#ff4d6d;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}
.hidden{display:none}

.option{
  background:#ffe6eb;
  padding:12px;
  border-radius:14px;
  margin-top:10px;
  cursor:pointer;
}
.option.correct{background:#b7f7cc}
.option.wrong{background:#ffb3b3}
.option.disabled{pointer-events:none}

.progress{
  height:8px;
  background:#eee;
  border-radius:10px;
  margin:10px 0;
}
.bar{
  height:100%;
  width:0%;
  background:#ff4d6d;
  transition:.3s;
}

.rank{
  font-size:20px;
  font-weight:bold;
  margin-top:12px;
}
</style>
</head>

<body>
<div class="box">

<!-- CREATE -->
<div id="creator">
  <h1>ğŸ® Táº¡o trÃ² chÆ¡i cÃ¢u há»i</h1>
  <input id="playerName" placeholder="TÃªn ngÆ°á»i Ä‘Æ°á»£c há»i (vd: Kem)">
  <input id="qText" placeholder="Nháº­p cÃ¢u há»i">
  <input id="a1" placeholder="ÄÃ¡p Ã¡n 1">
  <input id="a2" placeholder="ÄÃ¡p Ã¡n 2">
  <input id="a3" placeholder="ÄÃ¡p Ã¡n 3">
  <input id="a4" placeholder="ÄÃ¡p Ã¡n 4">

  <select id="correct">
    <option value="0">ÄÃ¡p Ã¡n Ä‘Ãºng: 1</option>
    <option value="1">ÄÃ¡p Ã¡n Ä‘Ãºng: 2</option>
    <option value="2">ÄÃ¡p Ã¡n Ä‘Ãºng: 3</option>
    <option value="3">ÄÃ¡p Ã¡n Ä‘Ãºng: 4</option>
  </select>

  <button onclick="addQuestion()">â• ThÃªm cÃ¢u</button>
  <button onclick="finishCreate()">â–¶ï¸ Káº¿t thÃºc & ChÆ¡i</button>
</div>

<!-- GAME -->
<div id="game" class="hidden">
  <div class="progress"><div class="bar" id="bar"></div></div>
  <h1 id="question"></h1>
  <div id="options"></div>
</div>

<!-- RESULT -->
<div id="result" class="hidden">
  <h1>Káº¿t quáº£ ğŸ¯</h1>
  <p id="scoreText"></p>
  <div id="rank" class="rank"></div>
</div>

</div>

<script>
let questions=[];
let index=0, score=0;
let player="";

function addQuestion(){
  const q=qText.value.trim();
  const answers=[a1.value,a2.value,a3.value,a4.value];
  const c=Number(correct.value);

  if(!q || answers.some(a=>!a)){
    alert("Nháº­p Ä‘áº§y Ä‘á»§ cÃ¢u há»i vÃ  Ä‘Ã¡p Ã¡n!");
    return;
  }

  questions.push({q,answers,c});

  qText.value=a1.value=a2.value=a3.value=a4.value="";
}

function finishCreate(){
  if(questions.length===0){
    alert("ChÆ°a cÃ³ cÃ¢u há»i nÃ o!");
    return;
  }
  player=playerName.value||"NgÆ°á»i áº¥y";
  creator.classList.add("hidden");
  game.classList.remove("hidden");
  index=0; score=0;
  loadQuestion();
}

function loadQuestion(){
  const q=questions[index];
  question.textContent=q.q;
  options.innerHTML="";
  bar.style.width=Math.round(index/questions.length*100)+"%";

  q.answers.forEach((t,i)=>{
    const d=document.createElement("div");
    d.className="option";
    d.textContent=t;
    d.onclick=()=>choose(d,i===q.c);
    options.appendChild(d);
  });
}

function choose(el,ok){
  [...options.children].forEach(o=>o.classList.add("disabled"));

  if(ok){
    el.classList.add("correct");
    score++;
  }else{
    el.classList.add("wrong");
    options.children[questions[index].c].classList.add("correct");
  }

  setTimeout(()=>{
    index++;
    index<questions.length ? loadQuestion() : showResult();
  },800);
}

function showResult(){
  game.classList.add("hidden");
  result.classList.remove("hidden");

  const percent=Math.round(score/questions.length*100);
  scoreText.textContent=`Báº¡n hiá»ƒu "${player}" Ä‘Æ°á»£c ${percent}% ğŸ’–`;

  if(percent>=85){
    rank.textContent="ğŸ’ª Máº NH THÃIIIII";
  }else if(percent>=60){
    rank.textContent="ğŸ˜ Táº M CHáº¤P NHáº¬N";
  }else{
    rank.textContent="ğŸ’€ Yáº¾U THÃ!!!";
  }
}
</script>
</body>
</html>
